# Transport layer
- 트랜스포트 레이어는 보내는사람, 받는사람이 관여함.
그 중에 TCP(transmission control protocol), UDP(user datagram protocol)가 있는데 TCP는 패킷들이 순서대로 전송됬는지 , 데이터가 손상됬는지, 잃어버리진 않았는지를 완전히 보장하지만
UDP는 안함. 
- TCP Header 필드는 sequence number가 있다. (이걸보고 순서를 알 수 있고, 뭐가 오류가 났는지 알 수 있다.)
- sequence number가 1씩 증가되는 것처럼 보이지만 실제는 1씩 증가되는게 아니다. 실제로는 1번 패킷의 사이즈 바이트만큼 전달함. 예를들면) 첫번째 데이터 부분이 100byte이면 두번째 데이터 시작부분은 101byte이다.
- TCP checksum은 header만 보는게 아니라 뒤에 있는 데이터까지 다 검사하는 것이다. 에러가 있는지만 보는거고 에러가 만약 있으면 버림.

- TCP는 클라이언트와 서버가 먼저 연결이 돼야함. 그 후에 데이터를 전송한다. 그 연결하는 처음 시작을 3-WAY Handshake라고 함.
- 연결의 목적은 첫번째로 간 패킷의 sequence number를 맞추는 것이 제일 중요하다.
- TCP 패킷을 한번에 몇개까지 보낼 수 있나?
- flow control(흐름제어) = 상대방이 나 이정도 아직 받을 수 있어~ 하면 그정도 보냄.
- congestion control(혼잡제어) = network 상태 확인/ 만약 혼잡상태면 넓히고 널널하면 줄이고
- WIFI는 하나 보내고 하나 ack받고 하나 보내고 하나 ack받고 이런 방식을 씀.


## 패킷스위칭
- 패킷하나가 들어오면 라우터가 그 패킷만 보고 다음에 어디로 보낼지 결정함. 그래서 일반적으론 순서대로 도착하지만 그게 꼭 보장되진 않음. 
- 실제로 목적지까지 어떤 라우터를 거쳐가야 가장 빠르띾? - 라우팅 프로토콜이 따로 돌아감(계속 라우터들끼리 정보를 교환함 왜? 중간에 같이 고장이 날 수도 있으니깐)
- 라우팅 프로토콜의 종류 = OSP, RIP, BEP

## 
- 클라이언트 서버 : 클라이언트끼리 교환
- peer to peer : 서로 대등한 위치에서 교환
- SMTP, POP , IMAP 은 이메일 사용에 쓰임
- Ipv4는 4바이트 32비트를 사용함
- Ipv6는 16바이트 128비트를 사용함
- iot = Internet of things

# DNS
- 32비트 Adress를 쉽게 표현하기위해 10진수를 사용하는데
www.naver.com이 필요한데 그 문자를 친걸 이서버에 아이피 주소를 누군가는 알고 있어야겠지? 그 연결해놓은 것을 domain name system이라고 함. -> 그리고 그 걸 가지고 있는 서버를 DNS server라고 함. 또는 줄여서 Name server라고도 함
1. 순서는 dns server에 구글.com의 아이피를 요청함
2. 브라우저가 그 번호 아이피를 갖고 걔한테 보냄

- 인터넷 접속 -> 내 ip를 얻기 위해 주변에 DHCP서버가 있는지 물어봄(DHCP 서버를 찾는 내용을 담은 패킷을 뿌림.) -> 서버가 나 여깄다고 알려줌 -> 내 IP 알려줘 -> 서버가 알려줌(IP주소 + DNS server까지 같이)
- 공유기가 DHCP 서버 역할을 함.
- 공유기는 ip주소를 공유함. 192.168.0.1 이런 것들은 실제 쓸수 있는 ip가 아니고 사설 내부망 ip임.
- 외부에서 보는 내 ip는 다름.(공유기가 할당한 것임)


## NAT기능(Network Address translator) : 공유기가 나눠주는 기능

##
- 포트번호 : application을 구분하는 것(누구한테 보낼지 결정함.) -> 그래서 application마다 무조건 다른 포트번호를 씀.
- 포트번호는 16비트사용, 대략 65535개정도 사용할 수 있다.
- application 중 유명한 것들은 전세게적으로 포트번호를 고정시켜놨따. 예를들면 웹서버는 80, https는 443임.
- 서버: 식당에서 서비스를 하기 위해 손님을 기다리는중
- 식당 : 문 번호가 포트

- 인트라넷은 내부망이다 (회사나 군대)

# Proxy server
- proxy server는 직접적으로 그 서버에 연결하는게 아니라, proxy server에서 대신 데이터를 나한테 전송해서 연결하는 것 
- 현재는 proxy server보다 vpn을 사용함. 
- 서버는 항상 클라이언트가 접속할때까지 기다림.

# 프로토콜
- 데이터를 주고받는 방식을 맞추는 것
- 프로토콜의 표준규격은 IETF다.

